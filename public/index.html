<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BMK Jump</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÆ</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    
    <!-- Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script src="firebase-config.js"></script>
    
    <!-- Mock Firebase –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ -->
    <!-- <script src="mock-firebase.js"></script> -->
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="main-menu" class="screen">
        <div class="menu-container">
            <div class="logo">
                <h1>BMK</h1>
                <p>Jump Game</p>
            </div>
            
            <div class="menu-buttons">
                <button id="startGameBtn" class="menu-btn disabled" disabled>–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="leaderboardBtn" class="menu-btn">–†–µ–π—Ç–∏–Ω–≥</button>
                <button id="profileBtn" class="menu-btn disabled" disabled>–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button id="loginBtn" class="menu-btn secondary">–í–æ–π—Ç–∏</button>
                <button id="registerBtn" class="menu-btn secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <button id="logoutBtn" class="menu-btn secondary hidden">–í—ã–π—Ç–∏</button>
            </div>
            
        <div id="authRequiredMessage" class="auth-required-message">
            <p>‚ö†Ô∏è –î–ª—è –∏–≥—Ä—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</p>
        </div>
            
            <div class="connection-status">
                <span id="connectionIndicator" class="status-indicator">‚óè</span>
                <span id="connectionText">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div id="login-screen" class="screen hidden">
        <div class="auth-container">
            <h2>–í—Ö–æ–¥ –≤ –∏–≥—Ä—É</h2>
            <form id="loginForm">
                <div class="input-group">
                    <input type="text" id="loginUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                    <div class="validation-message" id="loginUsernameError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    <div class="validation-message" id="loginPasswordError"></div>
                </div>
                <button type="submit" class="auth-btn">–í–æ–π—Ç–∏</button>
            </form>
            <div class="auth-links">
                <button onclick="showRegister()" class="link-btn">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <button onclick="showMenu()" class="link-btn">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register-screen" class="screen hidden">
        <div class="auth-container">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerForm">
                <div class="input-group">
                    <input type="text" id="registerUsername" placeholder="Username (–∫–∞–∫ –≤ Telegram): username" required>
                    <div class="validation-message" id="registerUsernameError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="registerPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required>
                    <div class="validation-message" id="registerPasswordError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="confirmPassword" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                    <div class="validation-message" id="confirmPasswordError"></div>
                </div>
                <div class="input-group">
                    <input type="text" id="invitedBySearch" class="auth-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥–ª—è –ø–æ–∏—Å–∫–∞..." autocomplete="off">
                    <select id="invitedBy" class="auth-select" size="3">
                        <option value="">–ö—Ç–æ —Ç–µ–±—è –ø—Ä–∏–≥–ª–∞—Å–∏–ª? (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</option>
                    </select>
                    <div class="validation-message" id="invitedByError"></div>
                </div>
                <button type="submit" class="auth-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
            <div class="auth-links">
                <button onclick="showLogin()" class="link-btn">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</button>
                <button onclick="showMenu()" class="link-btn">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-screen" class="screen hidden">
        <div class="profile-container">
            <h2>–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞</h2>
            <div class="player-info">
                <h3 id="playerName">Player1</h3>
                <p id="playerJoinDate">–ò–≥—Ä–æ–∫ —Å 15 —è–Ω–≤–∞—Ä—è 2025</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h4>–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h4>
                    <span class="stat-value" data-stat="bestScore">0</span>
                </div>
                
                <div class="stat-card">
                    <h4>–ú–µ—Å—Ç–æ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ</h4>
                    <span class="stat-value" data-stat="currentRank">-</span>
                </div>
                
                <div class="stat-card">
                    <h4>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π</h4>
                    <span class="stat-value" data-stat="invitedFriends">0</span>
                </div>
                
            </div>
            
            <div class="invited-friends-section">
                <h4>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ –¥—Ä—É–∑—å—è</h4>
                <div id="invitedFriendsList" class="friends-list">
                    <p class="no-friends">–ü–æ–∫–∞ –Ω–∏–∫–æ–≥–æ –Ω–µ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏</p>
                </div>
            </div>
            
            <div class="profile-actions">
                <button onclick="showLeaderboard()" class="menu-btn">–†–µ–π—Ç–∏–Ω–≥</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–π—Ç–∏–Ω–≥–∞ -->
    <div id="leaderboard-screen" class="screen hidden">
        <div class="leaderboard-container">
            <h2>–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ BMK</h2>
            <div class="leaderboard-controls">
                <button onclick="refreshLeaderboard()" class="menu-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
            <div id="leaderboardList" class="leaderboard-list">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</div>
            </div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="game-screen" class="screen hidden">
        <div id="game-container">
            <button id="musicToggle" class="music-button">
                <span class="music-icon">üîä</span>
            </button>
            <canvas id="gameCanvas"></canvas>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã -->
    <div id="game-over-screen" class="screen hidden">
        <div class="game-over-container">
            <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <div class="score-display">
                <h3>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="finalScore">0</span></h3>
                <div id="newRecord" class="new-record hidden">üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥! üéâ</div>
            </div>
            
            <div class="game-over-actions">
                <button onclick="startNewGame()" class="menu-btn">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="showProfile()" class="menu-btn">–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html> 
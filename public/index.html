<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BMK Jump</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÆ</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    
    <!-- Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script src="firebase-config.js"></script>
    
    <!-- Mock Firebase –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ -->
    <!-- <script src="mock-firebase.js"></script> -->
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="main-menu" class="screen">
        <div class="menu-container">
            <div class="logo">
                <h1>BMK</h1>
                <p>Jump Game</p>
            </div>
            
            <!-- –†–æ–∑—ã–≥—Ä—ã—à –±–∞–Ω–Ω–µ—Ä -->
            <div class="prize-banner">
                <div class="prize-icon">üèÜ</div>
                <div class="prize-text">
                    <span class="prize-title">–†–û–ó–´–ì–†–´–®</span>
                    <span class="prize-amount">25$ –Ω–∞ –ª—é–±—É—é –∏–≥—Ä—É</span>
                </div>
                <div class="prize-games">Standoff2, Brawl Stars, Roblox, PUBG –∏ –¥—Ä.</div>
                <div class="prize-subtitle">–ù–∞–±–µ—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—á–µ—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥!</div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ª–∏–¥–µ—Ä–µ -->
                <div class="current-leader" id="currentLeader">
                    <div class="leader-label">ü•á –¢–µ–∫—É—â–∏–π –ª–∏–¥–µ—Ä:</div>
                    <div class="leader-info" id="leaderInfo">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
                <div class="prize-deadline">
                    <div class="deadline-static">–î–æ 31.10.2025 17:00 (–¢–∞—à–∫–µ–Ω—Ç)</div>
                    <div class="countdown-timer" id="countdownTimer">
                        <span class="countdown-label">‚è∞ –û–°–¢–ê–õ–û–°–¨:</span>
                        <span class="countdown-time" id="countdownTime">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                </div>
                <div class="age-limit">
                    –£—á–∞—Å—Ç–∏–µ —Ç–æ–ª—å–∫–æ –¥–æ 14 –ª–µ—Ç –ò –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 
                    <a href="https://t.me/LTYH2/482" target="_blank" class="telegram-link">@LTYH2</a>
                </div>
            </div>
            
            <div class="menu-buttons">
                <button id="startGameBtn" class="menu-btn disabled" disabled>–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="leaderboardBtn" class="menu-btn">–†–µ–π—Ç–∏–Ω–≥</button>
                <button id="profileBtn" class="menu-btn disabled" disabled>–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button id="loginBtn" class="menu-btn secondary">–í–æ–π—Ç–∏</button>
                <button id="registerBtn" class="menu-btn secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <button id="logoutBtn" class="menu-btn secondary hidden">–í—ã–π—Ç–∏</button>
            </div>
            
        <div id="authRequiredMessage" class="auth-required-message">
            <p>‚ö†Ô∏è –î–ª—è –∏–≥—Ä—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</p>
        </div>
            
            <div class="connection-status">
                <span id="connectionIndicator" class="status-indicator">‚óè</span>
                <span id="connectionText">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div id="login-screen" class="screen hidden">
        <div class="auth-container">
            <h2>–í—Ö–æ–¥ –≤ –∏–≥—Ä—É</h2>
            <form id="loginForm">
                <div class="input-group">
                    <input type="text" id="loginUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                    <div class="validation-message" id="loginUsernameError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    <div class="validation-message" id="loginPasswordError"></div>
                </div>
                <button type="submit" class="auth-btn">–í–æ–π—Ç–∏</button>
            </form>
            <div class="auth-links">
                <button onclick="showRegister()" class="link-btn">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <button onclick="showMenu()" class="link-btn">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register-screen" class="screen hidden">
        <div class="auth-container">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerForm">
                <div class="input-group">
                    <input type="text" id="registerUsername" placeholder="Username (–∫–∞–∫ –≤ Telegram): username" required>
                    <div class="validation-message" id="registerUsernameError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="registerPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required>
                    <div class="validation-message" id="registerPasswordError"></div>
                </div>
                <div class="input-group">
                    <input type="password" id="confirmPassword" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                    <div class="validation-message" id="confirmPasswordError"></div>
                </div>
                <div class="input-group">
                    <div class="invited-by-container">
                        <input type="text" id="invitedByInput" class="auth-input" placeholder="–ö—Ç–æ —Ç–µ–±—è –ø—Ä–∏–≥–ª–∞—Å–∏–ª? (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" readonly>
                        <button type="button" id="invitedByToggle" class="dropdown-toggle">‚ñº</button>
                        <div id="invitedByDropdown" class="dropdown-list hidden">
                            <div class="dropdown-item" data-value="">–ù–∏–∫—Ç–æ</div>
                        </div>
                    </div>
                    <div class="validation-message" id="invitedByError"></div>
                </div>
                <button type="submit" class="auth-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
            <div class="auth-links">
                <button onclick="showLogin()" class="link-btn">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</button>
                <button onclick="showMenu()" class="link-btn">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-screen" class="screen hidden">
        <div class="profile-container">
            <h2>–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞</h2>
            <div class="player-info">
                <h3 id="playerName">Player1</h3>
                <p id="playerJoinDate">–ò–≥—Ä–æ–∫ —Å 15 —è–Ω–≤–∞—Ä—è 2025</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h4>–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h4>
                    <span class="stat-value" data-stat="bestScore">0</span>
                </div>
                
                <div class="stat-card">
                    <h4>–ú–µ—Å—Ç–æ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ</h4>
                    <span class="stat-value" data-stat="currentRank">-</span>
                </div>
                
                <div class="stat-card">
                    <h4>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π</h4>
                    <span class="stat-value" data-stat="invitedFriends">0</span>
                <div class="referral-requirement">
                    <span class="requirement-text">–ù—É–∂–Ω–æ: 3+ –¥—Ä—É–∑–µ–π –¥–æ 14 –ª–µ—Ç –ò –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ <a href="https://t.me/LTYH2/482" target="_blank" class="telegram-link">@LTYH2</a></span>
                </div>
                </div>
                
            </div>
            
            <div class="invited-friends-section">
                <h4>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ –¥—Ä—É–∑—å—è</h4>
                <div id="invitedFriendsList" class="friends-list">
                    <p class="no-friends">–ü–æ–∫–∞ –Ω–∏–∫–æ–≥–æ –Ω–µ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏</p>
                </div>
            </div>
            
            <div class="profile-actions">
                <button onclick="showLeaderboard()" class="menu-btn">–†–µ–π—Ç–∏–Ω–≥</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–π—Ç–∏–Ω–≥–∞ -->
    <div id="leaderboard-screen" class="screen hidden">
        <div class="leaderboard-container">
            <h2>–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ BMK</h2>
            <div class="prize-info">
                <span class="prize-trophy">üèÜ</span>
                <span class="prize-text-small">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—á–µ—Ç = 25$ –Ω–∞ –ª—é–±—É—é –∏–≥—Ä—É</span>
                <div class="prize-games-small">Standoff2, Brawl Stars, Roblox, PUBG –∏ –¥—Ä.</div>
                <div class="prize-requirement">–ü—Ä–∏–≥–ª–∞—Å–∏ 3 –¥—Ä—É–∑–µ–π (–≤—Å–µ –¥–æ 14 –ª–µ—Ç –ò –í–°–ï –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª <a href="https://t.me/LTYH2/482" target="_blank" class="telegram-link">@LTYH2</a>)!</div>
            </div>
            
            <div class="winner-rules">
                <h4>üèÜ –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—å:</h4>
                <ul class="rules-list">
                    <li>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å = –∏–≥—Ä–æ–∫ —Å –ù–ê–ò–í–´–°–®–ò–ú —Å—á–µ—Ç–æ–º</li>
                    <li>–ü—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ = –∫—Ç–æ —Ä–∞–Ω—å—à–µ –Ω–∞–±—Ä–∞–ª —ç—Ç–æ—Ç —Å—á–µ—Ç</li>
                    <li>–§–∏–∫—Å–∞—Ü–∏—è: 31.10.2025 –≤ 17:00 (–¢–∞—à–∫–µ–Ω—Ç)</li>
                </ul>
                
                <div class="username-requirement">
                    <h5>‚ö†Ô∏è –í–ê–ñ–ù–û! –£–ß–ê–°–¢–ò–ï –¢–û–õ–¨–ö–û –î–õ–Ø:</h5>
                    <ul class="username-rules">
                        <li>Username –≤ –∏–≥—Ä–µ = username –≤ Telegram</li>
                        <li>–í—Å–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ –¥—Ä—É–∑—å—è —Ç–æ–∂–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ username</li>
                        <li>–£—á–∞—Å—Ç–Ω–∏–∫–∏ —Å –Ω–µ—Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏ username –ù–ï —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ</li>
                        <li>–í–°–ï —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∫–∞–Ω–∞–ª <a href="https://t.me/LTYH2/482" target="_blank" class="telegram-link">@LTYH2</a></li>
                    </ul>
                </div>
            </div>
            <div class="leaderboard-controls">
                <button onclick="refreshLeaderboard()" class="menu-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
            <div id="leaderboardList" class="leaderboard-list">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</div>
            </div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="game-screen" class="screen hidden">
        <div id="game-container">
            <button id="musicToggle" class="music-button">
                <span class="music-icon">üîä</span>
            </button>
            <canvas id="gameCanvas"></canvas>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã -->
    <div id="game-over-screen" class="screen hidden">
        <div class="game-over-container">
            <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <div class="score-display" style="display: none;">
                <h3>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="finalScore">0</span></h3>
                <div id="newRecord" class="new-record hidden">üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥! üéâ</div>
            </div>
            
            <!-- –†–æ–∑—ã–≥—Ä—ã—à –±–∞–Ω–Ω–µ—Ä –Ω–∞ —ç–∫—Ä–∞–Ω–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã -->
            <div class="prize-banner">
                <div class="prize-icon">üèÜ</div>
                <div class="prize-text">
                    <span class="prize-title">–†–û–ó–´–ì–†–´–®</span>
                    <span class="prize-amount">25$ –Ω–∞ –ª—é–±—É—é –∏–≥—Ä—É</span>
                </div>
                <div class="prize-games">Standoff2, Brawl Stars, Roblox, PUBG –∏ –¥—Ä.</div>
                <div class="prize-subtitle">–ù–∞–±–µ—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—á–µ—Ç –∑–∞ –ø–µ—Ä–∏–æ–¥!</div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ª–∏–¥–µ—Ä–µ -->
                <div class="current-leader" id="currentLeaderGameOver">
                    <div class="leader-label">ü•á –¢–µ–∫—É—â–∏–π –ª–∏–¥–µ—Ä:</div>
                    <div class="leader-info" id="leaderInfoGameOver">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
                <div class="prize-deadline">
                    <div class="deadline-static">–î–æ 31.10.2025 17:00 (–¢–∞—à–∫–µ–Ω—Ç)</div>
                    <div class="countdown-timer" id="countdownTimerGameOver">
                        <span class="countdown-label">‚è∞ –û–°–¢–ê–õ–û–°–¨:</span>
                        <span class="countdown-time" id="countdownTimeGameOver">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                </div>
                <div class="age-limit">
                    –£—á–∞—Å—Ç–∏–µ —Ç–æ–ª—å–∫–æ –¥–æ 14 –ª–µ—Ç –ò –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 
                    <a href="https://t.me/LTYH2/482" target="_blank" class="telegram-link">@LTYH2</a>
                </div>
            </div>
            
            <div class="game-over-actions">
                <button onclick="startNewGame()" class="menu-btn">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="showProfile()" class="menu-btn">–ü—Ä–æ—Ñ–∏–ª—å</button>
                <button onclick="showMenu()" class="menu-btn">–ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <script src="parallax-background.js"></script>
    <script src="game.js"></script>
</body>
</html> 